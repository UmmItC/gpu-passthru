---
sidebar_position: 4
---

# NAT Connection Issue

Are you unsure why Network Address Translation (NAT) isn't functioning as expected? the IP ADDRESS of your VM system  isn't being displayed. And cannot access the internet or communicate with other devices on the local network. This guide will help you troubleshoot and resolve NAT issues in Virt-Manager.

## Understanding NAT in Virt-Manager

Network Address Translation (NAT) is a common networking technique used in virtualization to allow virtual machines to access the internet and communicate with other devices on the local network. When a VM is set up with NAT, it shares the host's IP address and appears as a single device on the network. This enables internet access for the VM and makes it accessible to other devices on the same local network.

## Why not working?

If NAT is not working in Virt-Manager, several factors could be causing the issue. Here are some common reasons why NAT might not function as expected:

### VPN Cause NAT Issue
   
One of the common reasons why NAT might not work in Virt-Manager is VPN usage. When you are using a VPN on your host system, it can alter network settings and disrupt NAT functionality within Virt-Manager.

To resolve this issue, you can adjust your VPN settings to allow `local networking sharing`. This option available in many VPN clients, let VM to be visible on the local network, enabling local networking sharing will you allow your VM to communicate with other devices on the same LAN.

![VPN](./images/nat-Local-network-share/local-network-sharing.png)

Also, you can try to reconnect your VPN client as it may resolve the issue.

### TL;DR

ensure that you can use local network sharing and that you are not being blocked by any program's default settings. Afterthat restart your system (VM) should be working. (As shown in the image below):

![done](./images/nat-Local-network-share/done-nat.png)

## References

- [qemu/kvm bridge and NAT networking](https://onion.tube/watch?v=DYpaX4BnNlg)
- [libvirt QEMU/KVM guest cannot connect to network (NAT)](https://unix.stackexchange.com/questions/696940/libvirt-qemu-kvm-guest-cannot-connect-to-network-nat)
