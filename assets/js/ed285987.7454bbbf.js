"use strict";(self.webpackChunkgpu_passthru_info=self.webpackChunkgpu_passthru_info||[]).push([[983],{174:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/5of5-1d3ffc226a43a2663c7249453580969e.png"},214:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"dual-gpu-passthru-desktop/InstallOS-GNU-Linux","title":"Setting Up Your Virtual Machine (GNU/Linux) \u2013 The Final Steps","description":"Setting up passthrough on GNU/Linux is a breeze. You won\'t need extra drivers like VirtIO because GNU/Linux has what you need built right in. This makes the setup smoother and simpler.","source":"@site/docs/dual-gpu-passthru-desktop/InstallOS-GNU-Linux.mdx","sourceDirName":"dual-gpu-passthru-desktop","slug":"/dual-gpu-passthru-desktop/InstallOS-GNU-Linux","permalink":"/docs/dual-gpu-passthru-desktop/InstallOS-GNU-Linux","draft":false,"unlisted":false,"editUrl":"https://github.com/UmmItC/gpu-passthru/tree/master/docs/dual-gpu-passthru-desktop/InstallOS-GNU-Linux.mdx","tags":[],"version":"current","lastUpdatedBy":"UmmIt","lastUpdatedAt":1750910721000,"sidebarPosition":14,"frontMatter":{"sidebar_position":14},"sidebar":"tutorialSidebar","previous":{"title":"Setting Up Your Virtual Machine (Windows 11) \u2013 The Final Steps","permalink":"/docs/dual-gpu-passthru-desktop/InstallOS-win11"},"next":{"title":"Virt-manger Usage","permalink":"/docs/category/virt-manger-usage"}}');var s=i(4848),o=i(8453);const r={sidebar_position:14},a="Setting Up Your Virtual Machine (GNU/Linux) \u2013 The Final Steps",l={},d=[{value:"1. Important Considerations",id:"1-important-considerations",level:2},{value:"1.1 UEFI and BIOS",id:"11-uefi-and-bios",level:3},{value:"1.2 Picking a GNU/Linux Distribution",id:"12-picking-a-gnulinux-distribution",level:3},{value:"2. Getting Started",id:"2-getting-started",level:2},{value:"2.1 Download the GNU/Linux Distribution ISO",id:"21-download-the-gnulinux-distribution-iso",level:3},{value:"3. Setting Up the Virtual Machine",id:"3-setting-up-the-virtual-machine",level:2},{value:"3.1 Create a New VM",id:"31-create-a-new-vm",level:3},{value:"3.2 Choose the ISO",id:"32-choose-the-iso",level:3},{value:"3.3 Configure RAM and CPU",id:"33-configure-ram-and-cpu",level:3},{value:"3.4 Set Up Disks and Enable Storage",id:"34-set-up-disks-and-enable-storage",level:3},{value:"3.5 Ready to Install",id:"35-ready-to-install",level:3},{value:"4. Preparing for Installation",id:"4-preparing-for-installation",level:2},{value:"4.1 Choose UEFI Firmware",id:"41-choose-uefi-firmware",level:3},{value:"4.2 Configure Boot Options",id:"42-configure-boot-options",level:3},{value:"4.3 TianoCore",id:"43-tianocore",level:3},{value:"5. Installing Your GNU/Linux System",id:"5-installing-your-gnulinux-system",level:2},{value:"6. Configuring Hardware Passthrough",id:"6-configuring-hardware-passthrough",level:2},{value:"6.1 Adding Hardware",id:"61-adding-hardware",level:3},{value:"6.2 Upgrading Your System",id:"62-upgrading-your-system",level:3},{value:"6.3 Checking GPU Passthrough",id:"63-checking-gpu-passthrough",level:3},{value:"7. Optimizing Monitor Configuration",id:"7-optimizing-monitor-configuration",level:2},{value:"You&#39;re All Set!",id:"youre-all-set",level:2}];function h(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"setting-up-your-virtual-machine-gnulinux--the-final-steps",children:"Setting Up Your Virtual Machine (GNU/Linux) \u2013 The Final Steps"})}),"\n",(0,s.jsx)(n.p,{children:"Setting up passthrough on GNU/Linux is a breeze. You won't need extra drivers like VirtIO because GNU/Linux has what you need built right in. This makes the setup smoother and simpler."}),"\n",(0,s.jsx)(n.h2,{id:"1-important-considerations",children:"1. Important Considerations"}),"\n",(0,s.jsx)(n.h3,{id:"11-uefi-and-bios",children:"1.1 UEFI and BIOS"}),"\n",(0,s.jsx)(n.p,{children:"When setting up your virtual machine, make sure you download a UEFI-compatible ISO file. GNU/Linux comes in both BIOS and UEFI versions, so it's important to choose the right one."}),"\n",(0,s.jsx)(n.admonition,{type:"caution",children:(0,s.jsx)(n.p,{children:"If you don't use the correct version, your system might not boot properly."})}),"\n",(0,s.jsx)(n.h3,{id:"12-picking-a-gnulinux-distribution",children:"1.2 Picking a GNU/Linux Distribution"}),"\n",(0,s.jsx)(n.p,{children:"Choosing a GNU/Linux distro is all about personal preference. Whether you like Arch Linux, Ubuntu, or NixOS, it's up to you. The passthrough setup process will be similar no matter which one you pick."}),"\n",(0,s.jsx)(n.h2,{id:"2-getting-started",children:"2. Getting Started"}),"\n",(0,s.jsx)(n.h3,{id:"21-download-the-gnulinux-distribution-iso",children:"2.1 Download the GNU/Linux Distribution ISO"}),"\n",(0,s.jsxs)(n.p,{children:["First things first, download the ISO file of the GNU/Linux distribution you want to install. This is the starting point for your passthrough setup. To speed up the download, you can use ",(0,s.jsx)(n.code,{children:"aria2"})," with this command:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'aria2c -x 16 "your_gnu_linux_iso_file.iso"\n'})}),"\n",(0,s.jsx)(n.p,{children:"With your ISO ready, let's move on to setting up the VM."}),"\n",(0,s.jsx)(n.h2,{id:"3-setting-up-the-virtual-machine",children:"3. Setting Up the Virtual Machine"}),"\n",(0,s.jsx)(n.p,{children:"Now that you have your ISO, it's time to create your VM with Virt-Manager:"}),"\n",(0,s.jsx)(n.h3,{id:"31-create-a-new-vm",children:"3.1 Create a New VM"}),"\n",(0,s.jsxs)(n.p,{children:["Open Virt-Manager and start a new VM setup. Choose ",(0,s.jsx)(n.code,{children:"Local install."})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Create a New VM - 1 of 5",src:i(4074).A+"",width:"500",height:"500"})}),"\n",(0,s.jsx)(n.h3,{id:"32-choose-the-iso",children:"3.2 Choose the ISO"}),"\n",(0,s.jsx)(n.p,{children:"Select the GNU/Linux ISO you downloaded as the installation media."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Choose ISO - 2 of 5",src:i(6023).A+"",width:"517",height:"500"})}),"\n",(0,s.jsx)(n.h3,{id:"33-configure-ram-and-cpu",children:"3.3 Configure RAM and CPU"}),"\n",(0,s.jsx)(n.p,{children:"Set how much RAM and how many CPU cores you want for your VM."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Configure RAM and CPU - 3 of 5",src:i(816).A+"",width:"500",height:"500"})}),"\n",(0,s.jsx)(n.h3,{id:"34-set-up-disks-and-enable-storage",children:"3.4 Set Up Disks and Enable Storage"}),"\n",(0,s.jsx)(n.p,{children:"Allocate disk space and enable storage support."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Set Up Disks and Enable Storage - 4 of 5",src:i(7421).A+"",width:"500",height:"500"})}),"\n",(0,s.jsx)(n.h3,{id:"35-ready-to-install",children:"3.5 Ready to Install"}),"\n",(0,s.jsx)(n.p,{children:"Make sure custom settings are enabled for the installation."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Ready to Install - 5 of 5",src:i(174).A+"",width:"519",height:"500"})}),"\n",(0,s.jsx)(n.h2,{id:"4-preparing-for-installation",children:"4. Preparing for Installation"}),"\n",(0,s.jsx)(n.p,{children:"With your VM set up, let's prepare for installing Linux:"}),"\n",(0,s.jsx)(n.h3,{id:"41-choose-uefi-firmware",children:"4.1 Choose UEFI Firmware"}),"\n",(0,s.jsxs)(n.p,{children:["Select the UEFI firmware option for your VM, like ",(0,s.jsx)(n.code,{children:"UEFI x86_64 OVM_CODE.fd."})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Firmware",src:i(698).A+"",width:"1076",height:"899"})}),"\n",(0,s.jsx)(n.h3,{id:"42-configure-boot-options",children:"4.2 Configure Boot Options"}),"\n",(0,s.jsxs)(n.p,{children:["Enable the boot menu and set ",(0,s.jsx)(n.code,{children:"SATA CDROM1"})," as the first boot device to boot from the ISO."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Boot options",src:i(1718).A+"",width:"1076",height:"899"})}),"\n",(0,s.jsxs)(n.p,{children:["Now your VM is set up to start the GNU/Linux installation process. Click the ",(0,s.jsx)(n.code,{children:"Begin Installation"})," button to proceed."]}),"\n",(0,s.jsx)(n.h3,{id:"43-tianocore",children:"4.3 TianoCore"}),"\n",(0,s.jsx)(n.p,{children:"When you start your VM, you should see the TianoCore UEFI logo."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"UEFI",src:i(5542).A+"",width:"1076",height:"899"})}),"\n",(0,s.jsx)(n.h2,{id:"5-installing-your-gnulinux-system",children:"5. Installing Your GNU/Linux System"}),"\n",(0,s.jsx)(n.p,{children:"Now, install your chosen GNU/Linux distribution on the VM. Follow the usual installation prompts:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Boot from ISO:"})," Start the VM and boot from the ISO."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Follow Prompts:"})," Choose your language, keyboard layout, and disk partitions."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Update and Install Software:"})," After installation, update your system and install any needed software."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Ubuntu Install",src:i(3879).A+"",width:"1920",height:"1048"})}),"\n",(0,s.jsx)(n.p,{children:"With GNU/Linux installed, you're almost done with the passthrough setup. Next, we'll enable network access and GPU passthrough."}),"\n",(0,s.jsx)(n.h2,{id:"6-configuring-hardware-passthrough",children:"6. Configuring Hardware Passthrough"}),"\n",(0,s.jsx)(n.p,{children:"Here's how to get network access, upgrade your system, and set up GPU passthrough:"}),"\n",(0,s.jsx)(n.h3,{id:"61-adding-hardware",children:"6.1 Adding Hardware"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Power Off the VM:"})," Make sure your VM is off."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Add PCI Devices for GPU Passthrough:"})," In Virt-Manager, go to ",(0,s.jsx)(n.code,{children:"Add Hardware"})," and choose ",(0,s.jsx)(n.code,{children:"PCI Host Device."})," Add your GPU and GPU audio device."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Add a PCI Network Device:"})," Also, add a PCI network device."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Apply Changes and Start the VM:"})," Save the settings and start your VM."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"62-upgrading-your-system",children:"6.2 Upgrading Your System"}),"\n",(0,s.jsx)(n.p,{children:"Open a terminal and run:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sudo apt-get update -y\nsudo apt-get upgrade -y\nsudo apt-get full-upgrade -y\n"})}),"\n",(0,s.jsx)(n.p,{children:"Reboot your VM. Your GPU should now be passed through."}),"\n",(0,s.jsx)(n.h3,{id:"63-checking-gpu-passthrough",children:"6.3 Checking GPU Passthrough"}),"\n",(0,s.jsxs)(n.p,{children:["Install ",(0,s.jsx)(n.code,{children:"neofetch"})," to check if the GPU is recognized:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sudo apt-get install neofetch\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Run ",(0,s.jsx)(n.code,{children:"neofetch"})," to see your GPU details."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Neofetch",src:i(4335).A+"",width:"1076",height:"926"})}),"\n",(0,s.jsx)(n.h2,{id:"7-optimizing-monitor-configuration",children:"7. Optimizing Monitor Configuration"}),"\n",(0,s.jsx)(n.p,{children:"For the best visual experience, adjust your monitor settings:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Power Off Your VM:"})," Shut down your VM."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Configure VM Video Settings:"})," In Virt-Manager, go to the ",(0,s.jsx)(n.code,{children:"Video"})," section and select the ",(0,s.jsx)(n.code,{children:"Ramfb"})," device model."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Switch Monitor Input:"})," Change your monitor's input to HDMI2 or another secondary option."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Ramfb",src:i(8197).A+"",width:"1076",height:"899"})}),"\n",(0,s.jsx)(n.p,{children:"Now, your monitor should display the VM's output on the secondary input."}),"\n",(0,s.jsx)(n.h2,{id:"youre-all-set",children:"You're All Set!"}),"\n",(0,s.jsx)(n.p,{children:"Congratulations! You've successfully set up a GNU/Linux virtual machine with GPU passthrough. Enjoy the power and flexibility of your new setup."})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},698:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/firmware-8e1e08f713690497c65a2f53f5ab23f0.png"},816:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/3of5-3090f1964433a21e228e74d7c53f679b.png"},1718:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/boot_options-7b48e43eca4b6446fb80082ef2840e2c.png"},3879:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/install_ubuntu-d9eac061f8774d41dc79b444dfb974f8.png"},4074:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/1of5-c2d77efcebc80a7d22b405e8508bac8f.png"},4335:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/neofetch-fae137e62d8663871c5e9c3a0b892f02.png"},5542:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/Tiano_core-ac3edccb4fc9053c517fba308dc7c26e.png"},6023:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/2of5-a2d6a06a0934bed88bc91ca9d1715c03.png"},7421:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/4of5-5410bfdc74c2a69827ac38265958bee7.png"},8197:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/ramfb-5b2a57746afd29f14ca48fa2eb8f5f93.png"},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var t=i(6540);const s={},o=t.createContext(s);function r(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);