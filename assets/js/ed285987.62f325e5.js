"use strict";(self.webpackChunkgpu_passthru_info=self.webpackChunkgpu_passthru_info||[]).push([[983],{214:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>r,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"dual-gpu-passthru-desktop/InstallOS-GNU-Linux","title":"Setting Up Your Virtual Machine (GNU/Linux) \u2013 The Final Steps","description":"Setting up passthrough on GNU/Linux is a breeze. You won\'t need extra drivers like VirtIO because GNU/Linux has what you need built right in. This makes the setup smoother and simpler.","source":"@site/docs/dual-gpu-passthru-desktop/InstallOS-GNU-Linux.mdx","sourceDirName":"dual-gpu-passthru-desktop","slug":"/dual-gpu-passthru-desktop/InstallOS-GNU-Linux","permalink":"/gpu.passthru.info/docs/dual-gpu-passthru-desktop/InstallOS-GNU-Linux","draft":false,"unlisted":false,"editUrl":"https://github.com/UmmItC/gpu.passthru.info/tree/master/docs/dual-gpu-passthru-desktop/InstallOS-GNU-Linux.mdx","tags":[],"version":"current","sidebarPosition":14,"frontMatter":{"sidebar_position":14},"sidebar":"tutorialSidebar","previous":{"title":"Setting Up Your Virtual Machine (Windows 11) \u2013 The Final Steps","permalink":"/gpu.passthru.info/docs/dual-gpu-passthru-desktop/InstallOS-win11"},"next":{"title":"Tutorial - Extras","permalink":"/gpu.passthru.info/docs/category/tutorial---extras"}}');var i=s(4848),o=s(8453);const r={sidebar_position:14},a="Setting Up Your Virtual Machine (GNU/Linux) \u2013 The Final Steps",l={},d=[{value:"UEFI and BIOS",id:"uefi-and-bios",level:2},{value:"Picking a GNU/Linux Distribution",id:"picking-a-gnulinux-distribution",level:2},{value:"Switching Monitors",id:"switching-monitors",level:2},{value:"1. Download the GNU/Linux Distribution ISO",id:"1-download-the-gnulinux-distribution-iso",level:3},{value:"2. Setting Up the Virtual Machine",id:"2-setting-up-the-virtual-machine",level:3},{value:"2.1 Create a New VM",id:"21-create-a-new-vm",level:4},{value:"2.2 Choose the ISO",id:"22-choose-the-iso",level:4},{value:"2.3 Configure RAM and CPU",id:"23-configure-ram-and-cpu",level:4},{value:"2.4 Set Up Disks and Enable Storage",id:"24-set-up-disks-and-enable-storage",level:4},{value:"5. Ready to Install",id:"5-ready-to-install",level:4},{value:"3. Getting Ready to Install",id:"3-getting-ready-to-install",level:3},{value:"3.1 Choose UEFI Firmware",id:"31-choose-uefi-firmware",level:4},{value:"3.2 Configure Boot Options",id:"32-configure-boot-options",level:4},{value:"4. TianoCore",id:"4-tianocore",level:3},{value:"5. Install Your GNU/Linux System",id:"5-install-your-gnulinux-system",level:3},{value:"Step 6: Network Access, System Upgrade, and GPU Passthrough",id:"step-6-network-access-system-upgrade-and-gpu-passthrough",level:3},{value:"Final Step: Optimizing Monitor Configuration",id:"final-step-optimizing-monitor-configuration",level:3}];function h(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"setting-up-your-virtual-machine-gnulinux--the-final-steps",children:"Setting Up Your Virtual Machine (GNU/Linux) \u2013 The Final Steps"})}),"\n",(0,i.jsx)(n.p,{children:"Setting up passthrough on GNU/Linux is a breeze. You won't need extra drivers like VirtIO because GNU/Linux has what you need built right in. This makes the setup smoother and simpler."}),"\n",(0,i.jsx)(n.h2,{id:"uefi-and-bios",children:"UEFI and BIOS"}),"\n",(0,i.jsx)(n.p,{children:"When setting up your virtual machine, make sure you download a UEFI-compatible ISO file. GNU/Linux comes in both BIOS and UEFI versions, so it's important to choose the right one."}),"\n",(0,i.jsx)(n.p,{children:"If you don't use the correct version, your system might not boot properly."}),"\n",(0,i.jsx)(n.h2,{id:"picking-a-gnulinux-distribution",children:"Picking a GNU/Linux Distribution"}),"\n",(0,i.jsx)(n.p,{children:"Choosing a GNU/Linux distro is all about personal preference. Whether you like Arch Linux, Ubuntu, or NixOS, it\u2019s up to you. The passthrough setup process will be similar no matter which one you pick."}),"\n",(0,i.jsx)(n.h2,{id:"switching-monitors",children:"Switching Monitors"}),"\n",(0,i.jsx)(n.p,{children:"In GNU/Linux passthrough, you can switch your monitor input easily. dont need to install another package."}),"\n",(0,i.jsx)(n.h3,{id:"1-download-the-gnulinux-distribution-iso",children:"1. Download the GNU/Linux Distribution ISO"}),"\n",(0,i.jsxs)(n.p,{children:["First things first, download the ISO file of the GNU/Linux distribution you want to install. This is the starting point for your passthrough setup. To speed up the download, you can use ",(0,i.jsx)(n.code,{children:"aria2"})," with this command:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'aria2c -x 16 "your_gnu_linux_iso_file.iso"\n'})}),"\n",(0,i.jsx)(n.p,{children:"With your ISO ready, let\u2019s move on to setting up the VM."}),"\n",(0,i.jsx)(n.h3,{id:"2-setting-up-the-virtual-machine",children:"2. Setting Up the Virtual Machine"}),"\n",(0,i.jsx)(n.p,{children:"Now that you have your ISO, it\u2019s time to create your VM with Virt-Manager:"}),"\n",(0,i.jsx)(n.h4,{id:"21-create-a-new-vm",children:"2.1 Create a New VM"}),"\n",(0,i.jsxs)(n.p,{children:["Open Virt-Manager and start a new VM setup. Choose ",(0,i.jsx)(n.code,{children:"Local install."})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Create a New VM - 1 of 5",src:s(3814).A+"",width:"500",height:"500"})}),"\n",(0,i.jsx)(n.h4,{id:"22-choose-the-iso",children:"2.2 Choose the ISO"}),"\n",(0,i.jsx)(n.p,{children:"Select the GNU/Linux ISO you downloaded as the installation media."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Choose ISO - 2 of 5",src:s(515).A+"",width:"517",height:"500"})}),"\n",(0,i.jsx)(n.h4,{id:"23-configure-ram-and-cpu",children:"2.3 Configure RAM and CPU"}),"\n",(0,i.jsx)(n.p,{children:"Set how much RAM and how many CPU cores you want for your VM."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Configure RAM and CPU - 3 of 5",src:s(764).A+"",width:"500",height:"500"})}),"\n",(0,i.jsx)(n.h4,{id:"24-set-up-disks-and-enable-storage",children:"2.4 Set Up Disks and Enable Storage"}),"\n",(0,i.jsx)(n.p,{children:"Allocate disk space and enable storage support."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Set Up Disks and Enable Storage - 4 of 5",src:s(3441).A+"",width:"500",height:"500"})}),"\n",(0,i.jsx)(n.h4,{id:"5-ready-to-install",children:"5. Ready to Install"}),"\n",(0,i.jsx)(n.p,{children:"Make sure custom settings are enabled for the installation."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Ready to Install - 5 of 5",src:s(8754).A+"",width:"519",height:"500"})}),"\n",(0,i.jsx)(n.h3,{id:"3-getting-ready-to-install",children:"3. Getting Ready to Install"}),"\n",(0,i.jsx)(n.p,{children:"With your VM set up, let\u2019s prepare for installing Linux:"}),"\n",(0,i.jsx)(n.h4,{id:"31-choose-uefi-firmware",children:"3.1 Choose UEFI Firmware"}),"\n",(0,i.jsxs)(n.p,{children:["Select the UEFI firmware option for your VM, like ",(0,i.jsx)(n.code,{children:"UEFI x86_64 OVM_CODE.fd."})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Firmware",src:s(1934).A+"",width:"1076",height:"899"})}),"\n",(0,i.jsx)(n.h4,{id:"32-configure-boot-options",children:"3.2 Configure Boot Options"}),"\n",(0,i.jsxs)(n.p,{children:["Enable the boot menu and set ",(0,i.jsx)(n.code,{children:"SATA CDROM1"})," as the first boot device to boot from the ISO."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Boot options",src:s(7002).A+"",width:"1076",height:"899"})}),"\n",(0,i.jsxs)(n.p,{children:["Now your VM is set up to start the GNU/Linux installation process. Click the ",(0,i.jsx)(n.code,{children:"begin installation"})," button to proceed."]}),"\n",(0,i.jsx)(n.h3,{id:"4-tianocore",children:"4. TianoCore"}),"\n",(0,i.jsx)(n.p,{children:"When you start your VM, you should see the TianoCore UEFI logo."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"UEFI",src:s(5562).A+"",width:"1076",height:"899"})}),"\n",(0,i.jsx)(n.h3,{id:"5-install-your-gnulinux-system",children:"5. Install Your GNU/Linux System"}),"\n",(0,i.jsx)(n.p,{children:"Now, install your chosen GNU/Linux distribution on the VM. Follow the usual installation prompts:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Boot from ISO:"})," Start the VM and boot from the ISO."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Follow Prompts:"})," Choose your language, keyboard layout, and disk partitions."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Update and Install Software:"})," After installation, update your system and install any needed software."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"ubuntu_install",src:s(648).A+"",width:"1920",height:"1048"})}),"\n",(0,i.jsx)(n.p,{children:"With GNU/Linux installed, you\u2019re almost done with the passthrough setup. Next, we\u2019ll enable network access and GPU passthrough."}),"\n",(0,i.jsx)(n.h3,{id:"step-6-network-access-system-upgrade-and-gpu-passthrough",children:"Step 6: Network Access, System Upgrade, and GPU Passthrough"}),"\n",(0,i.jsx)(n.p,{children:"Here\u2019s how to get network access, upgrade your system, and set up GPU passthrough:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Power Off the VM:"})," Make sure your VM is off."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Add PCI Devices for GPU Passthrough:"})," In Virt-Manager, go to ",(0,i.jsx)(n.code,{children:"Add Hardware"})," and choose ",(0,i.jsx)(n.code,{children:"PCI Host Device."})," Add your GPU and GPU audio device."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Add a PCI Network Device:"})," Also, add a PCI network device."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Apply Changes and Start the VM:"})," Save the settings and start your VM."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Upgrade Your System:"})}),"\n",(0,i.jsx)(n.p,{children:"Open a terminal and run:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"sudo apt-get update -y\nsudo apt-get upgrade -y\nsudo apt-get full-upgrade -y\n"})}),"\n",(0,i.jsx)(n.p,{children:"Reboot your VM. Your GPU should now be passed through."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Check GPU Passthrough:"})}),"\n",(0,i.jsxs)(n.p,{children:["Install ",(0,i.jsx)(n.code,{children:"neofetch"})," to check if the GPU is recognized:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"sudo apt-get install neofetch\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Run ",(0,i.jsx)(n.code,{children:"neofetch"})," to see your GPU details."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"neofetch",src:s(7443).A+"",width:"1076",height:"926"})}),"\n",(0,i.jsx)(n.h3,{id:"final-step-optimizing-monitor-configuration",children:"Final Step: Optimizing Monitor Configuration"}),"\n",(0,i.jsx)(n.p,{children:"For the best visual experience, adjust your monitor settings:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Power Off Your VM:"})," Shut down your VM."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Configure VM Video Settings:"})," In Virt-Manager, go to the ",(0,i.jsx)(n.code,{children:"Video"})," section and select the ",(0,i.jsx)(n.code,{children:"Ramfb"})," device model."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Switch Monitor Input:"})," Change your monitor\u2019s input to HDMI2 or another secondary option."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"ramfb",src:s(8673).A+"",width:"1076",height:"899"})}),"\n",(0,i.jsx)(n.p,{children:"Now, your monitor should display the VM\u2019s output on the secondary input."})]})}function c(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},3814:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/1of5-c2d77efcebc80a7d22b405e8508bac8f.png"},515:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/2of5-a2d6a06a0934bed88bc91ca9d1715c03.png"},764:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/3of5-3090f1964433a21e228e74d7c53f679b.png"},3441:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/4of5-5410bfdc74c2a69827ac38265958bee7.png"},8754:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/5of5-1d3ffc226a43a2663c7249453580969e.png"},5562:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/Tiano_core-ac3edccb4fc9053c517fba308dc7c26e.png"},7002:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/boot_options-7b48e43eca4b6446fb80082ef2840e2c.png"},1934:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/firmware-8e1e08f713690497c65a2f53f5ab23f0.png"},648:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/install_ubuntu-d9eac061f8774d41dc79b444dfb974f8.png"},7443:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/neofetch-fae137e62d8663871c5e9c3a0b892f02.png"},8673:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/ramfb-5b2a57746afd29f14ca48fa2eb8f5f93.png"},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>a});var t=s(6540);const i={},o=t.createContext(i);function r(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);